<section id="search-results" style="display: none;">
  <p class="lg">Search results</p>
  <div class="entries">
  </div>
</section>

{% raw %}
<script id="search-results-template" type="text/mustache">
  {{#entries}}
  <hr>
  <article>
    <h3><a href="{{url}}">{{title}}</a></h3>
    {{categories}}
    <p>{{excerpt}}</p>
  </article>
  {{/entries}}
</script>
{% endraw %}
<script src="{{ site.baseurl }}/js/search.min.js" type="text/javascript" charset="utf-8"></script>

<script type="text/javascript">
$(function() {
  $('#search-query').lunrSearch({
    indexUrl: '{{ site.baseurl }}/js/index.json',
    results:  '#search-results',
    entries:  '.entries',
    template: '#search-results-template'
  });

  $('#search-query').on('keyup', function(el) {
    if(el.target.value.length < 3) {
      $('#main-content').show();
    } else {
      $('#main-content').hide();
    }
  });
});
</script>
