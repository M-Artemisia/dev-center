<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}</title>
  {% if page.excerpt %}<meta name="description" content="{{ page.excerpt | strip_html }}">{% endif %}
  {% if page.tags %}<meta name="keywords" content="{{ page.tags | join: ', ' }}">{% endif %}
  {% if page.author %}
    {% assign author = site.data.authors[page.author] %}{% else %}{% assign author = site.owner %}
  {% endif %}
  {% include open-graph.html %}
  {% if site.setCanonicalLink %}
    <link rel="canonical" href="{{ page.url | absolute_url | replace:'index.html','' | no_trailing_slash }}">
  {% endif %}

  {% if site.isLocalDev %}
  <link rel="shortcut icon" type="image/png" href="{{ site.baseurl }}/images/favicon.png">
  {% else %}
  <link rel="shortcut icon" type="image/png" href="/v1/config/favicon">
  {% endif %}

  <link rel="stylesheet" href="{{ site.baseurl }}/css/pygments-monokai.css">
  <link rel="stylesheet" href="{{ site.baseurl }}/synapse/dist/synapse.css">
  <link rel="stylesheet" href="{{ site.baseurl }}/css/devcenter.css">

  <link href="{{ site.url }}{{ site.baseurl }}/atom.xml" type="application/atom+xml" rel="alternate" title="{{ site.title }} Atom Feed">
  <link href="{{ site.url }}{{ site.baseurl }}/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=0.75">
  <meta http-equiv="cleartype" content="on">

  {% if site.webserver %}
    {% assign webserver = site.webserver %}
  {% else %}
    {% assign webserver = "https://algorithmia.com" %}
  {% endif %}
  <script src="{{site.baseurl}}/userCustomizations.js" type="text/javascript" charset="utf-8"></script>
  <script>
    // Hide the app as soon as possible in the rendering of the DOM,
    // to prevent a case where the default colors/titles are rendered before
    // customization values are added. We generate the CSS that hides the body
    // content with JS to prevent a case where the page is completely hidden to
    // someone with JS disabled.
    const style = document.createElement('style')
    style.appendChild(
      document.createTextNode('.js-only-initial-hide { display: none; }')
    )
    document.head.appendChild(style)
  </script>
</head>

<body>
  <div class="syn-page syn-page-drawer-navigation js-only-initial-hide" id="vue-app">
    <header class="syn-page-header syn-header-brand">
      <div class="syn-page-header-content">
        <button onclick="['nav-open', 'nav-collapsed'].forEach((a) => document.querySelector('.syn-page-header').classList.toggle(a))" class="syn-btn text icon rounded grow theme-light no-shadow" data-v-3352aef0="" data-v-19ae9fc3="">
          <svg width="1rem" height="1rem" viewBox="0 0 12 12">
            <path fill="currentColor" d="M0,2 L12,2 L12,3.344 L0,3.344 L0,2 Z M0,6.67 L0,5.33 L12,5.33 L12,6.67 L0,6.67 Z M0,10 L0,8.656 L12,8.656 L12,10 L0,10 Z"/>
          </svg>
        </button>
      </div>
      <div class="syn-page-header-nav syn-flex direction-column syn-overflow-hidden" onclick="['nav-open'].forEach((a) => document.querySelector('.syn-page-header').classList.toggle(a))">
        <div class="syn-mt-24 syn-ml-16 syn-mb-24 syn-mr-16 flex-item-no-shrink">
          <a href="/">
            {% if site.isLocalDev or site.enterprise %}
            <img
              src="{{ site.baseurl }}/images/algo-purple.svg"
              alt="Algorithmia Logo"
              style="max-height: 24px; max-width: 100%"
            />
            {% else %}
            <img
              src="/v1/config/logo"
              alt="Algorithmia Logo"
              style="max-height: 24px; max-width: 100%"
            />
            {% endif %}
          </a>
          <p class="syn-font-mono syn-caption syn-text-tertiary tagline syn-mt-8 syn-mb-0" id="brand-title">Documentation</p>
        </div>
        <form class="syn-form-group syn-ml-16 syn-mr-16" action="/developers{% if site.isLocalDev %}/{% endif %}" method="GET" onclick="event.stopPropagation();">
          <div class="syn-input-icon-group icon-left syn-width-full">
            <input type="text" id="search-query" class="syn-form-control syn-input-icon-group-input" name="q" placeholder="Search Docs" aria-label="Search">
            <span class="syn-input-icon-group-icon">
              <svg width="12px" height="20px" viewBox="0 0 12 12">
                <path d="M4.352,7.344 C4.89600272,7.344 5.39733104,7.20800136 5.856,6.936 C6.31466896,6.66399864 6.677332,6.29866896 6.944,5.84 C7.210668,5.38133104 7.344,4.88000272 7.344,4.336 C7.344,3.79199728 7.210668,3.29066896 6.944,2.832 C6.677332,2.37333104 6.31466896,2.010668 5.856,1.744 C5.39733104,1.477332 4.89600272,1.344 4.352,1.344 C3.80799728,1.344 3.30666896,1.477332 2.848,1.744 C2.38933104,2.010668 2.02400136,2.37333104 1.752,2.832 C1.47999864,3.29066896 1.344,3.79199728 1.344,4.336 C1.344,4.88000272 1.47999864,5.38133104 1.752,5.84 C2.02400136,6.29866896 2.38933104,6.66399864 2.848,6.936 C3.30666896,7.20800136 3.80799728,7.344 4.352,7.344 Z M8.352,7.344 L11.664,10.656 L10.656,11.664 L7.344,8.336 L7.344,7.808 L7.152,7.632 C6.7786648,7.96266832 6.34933576,8.21599912 5.864,8.392 C5.37866424,8.56800088 4.87466928,8.656 4.352,8.656 C3.56266272,8.656 2.83467,8.46400192 2.168,8.08 C1.50133,7.69599808 0.97600192,7.17866992 0.592,6.528 C0.19733136,5.85599664 0,5.12533728 0,4.336 C0,3.54666272 0.19466472,2.81867 0.584,2.152 C0.97333528,1.48533 1.50133,0.96000192 2.168,0.576 C2.83467,0.19199808 3.56266272,7.10542736e-15 4.352,0 C5.14133728,7.10542736e-15 5.87199664,0.19733136 6.544,0.592 C7.19466992,0.97600192 7.70933144,1.49866336 8.088,2.16 C8.46666856,2.82133664 8.656,3.54666272 8.656,4.336 C8.656,4.869336 8.56800088,5.37866424 8.392,5.864 C8.21599912,6.34933576 7.96266832,6.7786648 7.632,7.152 L7.808,7.344 L8.352,7.344 Z" fill="currentColor"></path>
              </svg>
            </span>
          </div>
        </form>
        <nav class="syn-nav flex-item-grow syn-flex direction-column syn-overflow-hidden">
          {% include synapse-menu.html %}
        </nav>
      </div>
      <div class="syn-page-header-nav-backdrop" onclick="document.querySelector('.syn-page-header').classList.toggle('nav-open')"></div>
    </header>
    <main class="syn-page-main">
      <div class="syn-container syn-mt-32 syn-mb-48">
        {{ content | emojify }}
      </div>
    </main>
    <footer class="syn-page-footer"></footer>
    <toast />
  </div>
  {% unless site.enterprise %}
    <script src="{{ site.baseurl }}/js/sentry.5.7.1.min.js" type="text/javascript" crossorigin="anonymous" charset="utf-8"></script>
    <script src="{{ site.baseurl }}/js/sentry.init.js" type="text/javascript" crossorigin="anonymous" charset="utf-8"></script>
  {% endunless %}
  <script src="{{site.baseurl}}/js/vue-build.js" type="text/javascript" charset="utf-8"></script>
  <script src="{{ site.baseurl }}/js/core.cat.js"></script>
  <script src="{{ site.baseurl }}/js/search.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="{{ site.baseurl }}/js/stageCustomization.js" type="text/javascript" charset="utf-8"></script>
  <script src="{{ site.baseurl }}/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="{{ site.baseurl }}/js/api-docs-redirect.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript">
  $(function() {
    $('#search-query').lunrSearch({
      indexUrl: '{{ site.baseurl }}/js/search.json',
      results:  '#search-results',
      template: '#search-results-template',
      titleMsg: '<h3><small>SEARCH RESULTS</small></h3>',
      emptyMsg: '<p>No results found...</p>'
    });

    $('#search-query').on('input', function(evt) {
      if(evt.target.value.length < 3) {
        $('#main-content').show();
      } else {
        $('#main-content').hide();
      }
    });

    $('.sidebar .category > a').on('click', function(evt) {
      evt.preventDefault();
      evt.currentTarget.parentNode.classList.toggle('active');
    });

    // If there is a query string that will get picked up by lunrSearch
    //   then hide the page content by default
    // Note: the search input field doesn't get set by lunrSearch until search.json loads
    var uri = new URI(window.location.search.toString());
    var queryString = uri.search(true);
    if (queryString.hasOwnProperty('q')) {
      if(queryString.q.length >= 3) {
        $('#main-content').hide();
        $('#search-query').focus();
      }
    }
  });
  </script>
</body>
</html>
