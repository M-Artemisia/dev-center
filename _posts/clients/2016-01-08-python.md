---
layout: article
title: "The Python Client"
excerpt: "Get going with the Python client on Algorithmia."
permalink: /application-development/client-guides/python
redirect_from:
  - /clients/python/
  - /application-development/guides/python/
date: 2016-07-08
categories: clients
tags: [clients]
ignore_sections: [install-from-source, upgrading-from-0-9-x, running-tests]
show_related: true
image:
    teaser: /language_logos/python.png
---

This guide provides a walk-through of how to use the official Algorithmia Python client to call algorithms and manage your data
through the Algorithmia platform.

## Getting Started with Algorithmia

The official Algorithmia Python Client is available on [PyPi](https://pypi.python.org/pypi/algorithmia/1.0.5). 

Install it with pip:

{% highlight python %}
pip install algorithmia
{% endhighlight %}

## Authentication

First, retrieve your API key from the Credentials tab under MyProfile after you've logged in to [Algorithmia](https://algorithmia.com/).

Now create the Algorithmia client, passing in your API key that you got from the Credentials tab:

{% highlight python %}
import Algorithmia

apiKey = '{Your API key here}'
# Create the Algorithmia client
client = Algorithmia.client(apiKey)
{% endhighlight %}

Now you’re ready to call algorithms.

## Working with Data Using the Data API

[Algorithmia's Data Portal](http://developers.algorithmia.com/application-development/data-sources/) offers three different ways to store your data, all available via the [Data API](http://docs.algorithmia.com/). 

This guide will show how to work with the [Hosted Data Source](https://algorithmia.com/data/hosted) option on the Algorithmia platform. 

**Note:** If you wish to follow along working through the example yourself, create a text file that contains any unstructured text such as a chapter of a public domain book or article. This will be used throughout the guide.

To start, you can either upload your data through the UI on Algorithmia's [Hosted Data Source](https://algorithmia.com/data/hosted) or via the [Data API](http://docs.algorithmia.com/).

### Create a Data Collection and Setting Directory Permissions

First add these imports to the top of your file:

{% highlight python %}
from Algorithmia.acl import ReadAcl, AclType
{% endhighlight %}

Now create a directory in data collections called nlp_directory:

{% highlight python %}
nlp_directory = client.dir("data://your_username/nlp_directory")
# Make your newly created data collection private
nlp_directory.create(ReadAcl.private)

# Create the acl object and check if it's private
acl = nlp_directory.get_permissions()  # Acl object
acl.read_acl == AclType.private  # True

# Update permissions to public
nlp_directory.update_permissions(ReadAcl.public)
nlp_directory.get_permissions().read_acl == AclType.public # True
{% endhighlight %}

**Note:** Instead of your username you can use '.my' when calling algorithms. For more information about the '.my' pseudonym check out the [Hosted Data Guide](http://developers.algorithmia.com/application-development/data-sources/hosted-data-guide/).

For more information on data collection permissions got to [Hosted Data Source](http://developers.algorithmia.com/application-development/data-sources/hosted-data-guide/).

### Uploading Data to your Data Collection

Once you've created your data collection you're ready to upload your file using the Data API.

First create a variable that holds the path to your data collection and the text file you will be uploading:

{% highlight python %}
text_file = "data://your_username/nlp_directory/jack_london.txt"
{% endhighlight %}

Now upload your local file to the data collection using the .putFile() method:

{% highlight python %}
# Upload local file
client.file(text_file).putFile("/your_local_path_to_file/jack_london.txt")
{% endhighlight %}

**Note:** This endpoint will replace a file if it already exists. If you wish to avoid replacing a file, check if the file exists before using this endpoint.

### Downloading Data to use in Algorithm

Next download the contents of the file that you just uploaded to data collections:

{% highlight python %}
# Download contents of file as a string
if client.file(text_file).exists():
	input = client.file(text_file).getString()
{% endhighlight %}

## Working with Algorithms

In this guide we are using the natural language processing algorithm called [Summarizer](https://algorithmia.com/algorithms/nlp/Summarizer). If you are interested in learning more about working with unstructured text data check out our guide [Introduction to Natural Language Processing](http://blog.algorithmia.com/introduction-natural-language-processing-nlp/).

{% highlight python %}
# Create the algorithm object using the Summarizer algorithm
algo = client.algo('nlp/Summarizer/0.1.3')
# Pass in input required by algorithm
try:
	response = algo.pipe(input).result
except:
	print(algo.pipe(input).error.message)

{% endhighlight %}

This algorithm results in a text output that is the summary of an article or book.

**Note:** A single algorithm may have different input and output types, or accept multiple types of input, so consult the algorithm’s description for usage examples specific to that algorithm.


## Conclusion

This guide covered installing Algorithmia via pip, uploading and downloading data to and from a user created Data Collection, checking if a file exists using the Data API, calling an algorithm, and handling errors.

For more information on the methods available using the Algorithmia Python Client check out the [Data API](http://docs.algorithmia.com/) documentation or the [Python Client Docs](https://github.com/algorithmiaio/algorithmia-python.git).

For convenience, here is the whole script available to run:

{% highlight python %}
import Algorithmia
from Algorithmia.acl import ReadAcl, AclType

apiKey = '{Your API key here}'
# Create the Algorithmia client
client = Algorithmia.client(apiKey)

nlp_directory = client.dir("data://your_username/nlp_directory")
# Make your newly created data collection private
nlp_directory.create(ReadAcl.private)

# Create the acl object and check if it's private
acl = nlp_directory.get_permissions()  # Acl object
acl.read_acl == AclType.private  # True

# Update permissions to public
nlp_directory.update_permissions(ReadAcl.public)
nlp_directory.get_permissions().read_acl == AclType.public # True

text_file = "data://your_username/nlp_directory/jack_london.txt"

# Upload local file
client.file(text_file).putFile("/your_local_path_to_file/jack_london.txt")

# Download contents of file as a string
if client.file(text_file).exists():
	input = client.file(text_file).getString()

# Create the algorithm object using the Summarizer algorithm
algo = client.algo('nlp/Summarizer/0.1.3')

# Pass in input required by algorithm
try:
	response = algo.pipe(input).result
except:
	print(algo.pipe(input).error.message)
{% endhighlight %}

